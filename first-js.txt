// Screen navigation
function showScreen(screenId) {
  document.querySelectorAll('.screen').forEach(screen => {
    screen.classList.remove('active');
  });
  document.getElementById(screenId).classList.add('active');
}

// Dummy functions for capture & upload
let imgCount = 0, vidCount = 0;

function captureImage() {
  alert("ðŸ“· Image Captured (simulated)");
  imgCount++;
  document.getElementById("img-count").innerText = imgCount + " Images";

  // Send to backend
  fetch("https://hackathon-backend-gepo.onrender.com/upload", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ image: "dummy-image-data" }) // replace with real data later
  })
  .then(res => res.json())
  .then(data => console.log("âœ… Image saved to backend:", data))
  .catch(err => console.error("âŒ Image upload error:", err));
}

function captureVideo() {
  alert("ðŸŽ¥ Video Captured (simulated)");
  vidCount++;
  document.getElementById("vid-count").innerText = vidCount + " Videos";

  // Send to backend
  fetch("https://hackathon-backend-gepo.onrender.com/upload", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ video: "dummy-video-data" }) // replace with real data later
  })
  .then(res => res.json())
  .then(data => console.log("âœ… Video saved to backend:", data))
  .catch(err => console.error("âŒ Video upload error:", err));
}

function uploadFromGallery() {
  alert("ðŸ–¼ï¸ Upload from gallery (simulated)");
}

// Location
function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(
      (pos) => {
        const lat = pos.coords.latitude.toFixed(4);
        const lng = pos.coords.longitude.toFixed(4);

        document.getElementById("location-output").innerText =
          "Latitude: " + lat + ", Longitude: " + lng;

        // Send to backend
        fetch("https://hackathon-backend-gepo.onrender.com/location", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ latitude: lat, longitude: lng })
        })
        .then(res => res.json())
        .then(data => console.log("âœ… Location saved to backend:", data))
        .catch(err => console.error("âŒ Location save error:", err));
      },
      () => {
        document.getElementById("location-output").innerText =
          "Location access denied!";
      }
    );
  } else {
    document.getElementById("location-output").innerText =
      "Geolocation not supported.";
  }
}

// Dark Mode
function toggleDarkMode() {
  document.body.classList.toggle("dark-mode");
}
